export default `PCFkb2N0eXBlIGh0bWw+CjxodG1sIGxhbmc9ImVuLVVTIj4KPGhlYWQ+CiAgICA8dGl0bGU+U3dhZ2dlciBVSTogT0F1dGgyIFJlZGlyZWN0PC90aXRsZT4KPC9oZWFkPgo8Ym9keT4KPHNjcmlwdD4KICAgICd1c2Ugc3RyaWN0JzsKICAgIGZ1bmN0aW9uIHJ1biAoKSB7CiAgICAgICAgdmFyIG9hdXRoMiA9IHdpbmRvdy5vcGVuZXIuc3dhZ2dlclVJUmVkaXJlY3RPYXV0aDI7CiAgICAgICAgdmFyIHNlbnRTdGF0ZSA9IG9hdXRoMi5zdGF0ZTsKICAgICAgICB2YXIgcmVkaXJlY3RVcmwgPSBvYXV0aDIucmVkaXJlY3RVcmw7CiAgICAgICAgdmFyIGlzVmFsaWQsIHFwLCBhcnI7CgogICAgICAgIGlmICgvY29kZXx0b2tlbnxlcnJvci8udGVzdCh3aW5kb3cubG9jYXRpb24uaGFzaCkpIHsKICAgICAgICAgICAgcXAgPSB3aW5kb3cubG9jYXRpb24uaGFzaC5zdWJzdHJpbmcoMSkucmVwbGFjZSgnPycsICcmJyk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcXAgPSBsb2NhdGlvbi5zZWFyY2guc3Vic3RyaW5nKDEpOwogICAgICAgIH0KCiAgICAgICAgYXJyID0gcXAuc3BsaXQoIiYiKTsKICAgICAgICBhcnIuZm9yRWFjaChmdW5jdGlvbiAodixpLF9hcnIpIHsgX2FycltpXSA9ICciJyArIHYucmVwbGFjZSgnPScsICciOiInKSArICciJzt9KTsKICAgICAgICBxcCA9IHFwID8gSlNPTi5wYXJzZSgneycgKyBhcnIuam9pbigpICsgJ30nLAogICAgICAgICAgICAgICAgZnVuY3Rpb24gKGtleSwgdmFsdWUpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4ga2V5ID09PSAiIiA/IHZhbHVlIDogZGVjb2RlVVJJQ29tcG9uZW50KHZhbHVlKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICApIDoge307CgogICAgICAgIGlzVmFsaWQgPSBxcC5zdGF0ZSA9PT0gc2VudFN0YXRlOwoKICAgICAgICBpZiAoKAogICAgICAgICAgb2F1dGgyLmF1dGguc2NoZW1hLmdldCgiZmxvdyIpID09PSAiYWNjZXNzQ29kZSIgfHwKICAgICAgICAgIG9hdXRoMi5hdXRoLnNjaGVtYS5nZXQoImZsb3ciKSA9PT0gImF1dGhvcml6YXRpb25Db2RlIiB8fAogICAgICAgICAgb2F1dGgyLmF1dGguc2NoZW1hLmdldCgiZmxvdyIpID09PSAiYXV0aG9yaXphdGlvbl9jb2RlIgogICAgICAgICkgJiYgIW9hdXRoMi5hdXRoLmNvZGUpIHsKICAgICAgICAgICAgaWYgKCFpc1ZhbGlkKSB7CiAgICAgICAgICAgICAgICBvYXV0aDIuZXJyQ2IoewogICAgICAgICAgICAgICAgICAgIGF1dGhJZDogb2F1dGgyLmF1dGgubmFtZSwKICAgICAgICAgICAgICAgICAgICBzb3VyY2U6ICJhdXRoIiwKICAgICAgICAgICAgICAgICAgICBsZXZlbDogIndhcm5pbmciLAogICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICJBdXRob3JpemF0aW9uIG1heSBiZSB1bnNhZmUsIHBhc3NlZCBzdGF0ZSB3YXMgY2hhbmdlZCBpbiBzZXJ2ZXIuIFRoZSBwYXNzZWQgc3RhdGUgd2Fzbid0IHJldHVybmVkIGZyb20gYXV0aCBzZXJ2ZXIuIgogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmIChxcC5jb2RlKSB7CiAgICAgICAgICAgICAgICBkZWxldGUgb2F1dGgyLnN0YXRlOwogICAgICAgICAgICAgICAgb2F1dGgyLmF1dGguY29kZSA9IHFwLmNvZGU7CiAgICAgICAgICAgICAgICBvYXV0aDIuY2FsbGJhY2soe2F1dGg6IG9hdXRoMi5hdXRoLCByZWRpcmVjdFVybDogcmVkaXJlY3RVcmx9KTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGxldCBvYXV0aEVycm9yTXNnOwogICAgICAgICAgICAgICAgaWYgKHFwLmVycm9yKSB7CiAgICAgICAgICAgICAgICAgICAgb2F1dGhFcnJvck1zZyA9ICJbIitxcC5lcnJvcisiXTogIiArCiAgICAgICAgICAgICAgICAgICAgICAgIChxcC5lcnJvcl9kZXNjcmlwdGlvbiA/IHFwLmVycm9yX2Rlc2NyaXB0aW9uKyAiLiAiIDogIm5vIGFjY2Vzc0NvZGUgcmVjZWl2ZWQgZnJvbSB0aGUgc2VydmVyLiAiKSArCiAgICAgICAgICAgICAgICAgICAgICAgIChxcC5lcnJvcl91cmkgPyAiTW9yZSBpbmZvOiAiK3FwLmVycm9yX3VyaSA6ICIiKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBvYXV0aDIuZXJyQ2IoewogICAgICAgICAgICAgICAgICAgIGF1dGhJZDogb2F1dGgyLmF1dGgubmFtZSwKICAgICAgICAgICAgICAgICAgICBzb3VyY2U6ICJhdXRoIiwKICAgICAgICAgICAgICAgICAgICBsZXZlbDogImVycm9yIiwKICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBvYXV0aEVycm9yTXNnIHx8ICJbQXV0aG9yaXphdGlvbiBmYWlsZWRdOiBubyBhY2Nlc3NDb2RlIHJlY2VpdmVkIGZyb20gdGhlIHNlcnZlci4iCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIG9hdXRoMi5jYWxsYmFjayh7YXV0aDogb2F1dGgyLmF1dGgsIHRva2VuOiBxcCwgaXNWYWxpZDogaXNWYWxpZCwgcmVkaXJlY3RVcmw6IHJlZGlyZWN0VXJsfSk7CiAgICAgICAgfQogICAgICAgIHdpbmRvdy5jbG9zZSgpOwogICAgfQoKICAgIGlmIChkb2N1bWVudC5yZWFkeVN0YXRlICE9PSAnbG9hZGluZycpIHsKICAgICAgICBydW4oKTsKICAgIH0gZWxzZSB7CiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgcnVuKCk7CiAgICAgICAgfSk7CiAgICB9Cjwvc2NyaXB0Pgo8L2JvZHk+CjwvaHRtbD4K` 